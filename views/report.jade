extends layout

block css
	- tabletheme = "sortable-theme-bootstrap"
	link(rel="stylesheet" href="font-awesome/css/font-awesome.min.css")
	link(rel='stylesheet', href='/stylesheets/#{tabletheme}.css')

block content
	.container
		.row
			.col-xs-12
				h1= title
				p Stub reports page. View the tests that you have administered. Click a column header to sort with it. You need to be in the 'admin' user group to see this page.
		.row
		-
			test = [{id: "joe", site: "x district", report: ["test1", "test2"]}, {id: "jenn", site: "y district", report: ["test3", "test4"]}, {id: "jane", site: "z district", report: ["test5", "test6"]}]
			list = ["Subject ID", "Date", "Site", "Sponsor", "Protocol", "Description"]
		table.table(class="#{tabletheme}" data-sortable)
			thead
				tr
					each header in list
						th #{header} 
			tbody
				each person in test
					tr
						td 
							a(href="/report/#{person.id}") #{person.id}
						td
							| date
						td
							| #{person.site}
						td
							| sponsor (#{person.id})
						td
							| protocol (#{person.id})
						td
							| descrip (#{person.id})
					//- tr.collapse(id="#{person.id}")
					//- 	td
					//- 		each r in person.report						
					//- 			a(href="#")
					//- 				p= r

block scripts
	script(src='/javascripts/libraries/sortable.min.js')